#include <iostream>#include <vector>#include <algorithm>using namespace std;//하드코딩int m, n, k;int arr[101][101];int check[101][100];int cnt;int dy[4] = { 1,-1,0,0 };int dx[4] = { 0,0,1,-1 };void dfs(int y, int x) {	check[y][x] = 1;	cnt++;	for (int i = 0; i < 4; i++) {		int ny = y + dy[i];		int nx = x + dx[i];		if (0 <= ny&&ny < m && 0 <= nx&&nx < n) {			if (!check[ny][nx] && arr[ny][nx] == 0) {				check[ny][nx] = 1;				dfs(ny, nx);			}		}	}}int main() {	cin >> m >> n >> k;	for (int i = 0; i < k; i++) {		int x1, y1, x2, y2;		cin >> x1 >> y1 >> x2 >> y2;		for (int y = y1; y < y2; y++) {			for (int x = x1; x < x2; x++) {				arr[y][x] = 1;			}		}	}	vector<int> vec;	for (int y = 0; y < m; y++) {		for (int x = 0; x < n; x++) {			if (!check[y][x] && arr[y][x] == 0) {				cnt = 0;				dfs(y, x);				vec.push_back(cnt);			}		}	}	sort(vec.begin(), vec.end());	cout << vec.size() << endl;	for (int i = 0; i < vec.size(); i++) {		cout << vec[i] << " ";	}}