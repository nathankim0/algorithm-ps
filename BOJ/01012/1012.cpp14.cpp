#include <iostream>#include <string.h>using namespace std;//ㄹㄹint m, n, k;int arr[51][51] = { 0, };int check[51][51] = { 0, };int dx[4] = { 1,0,-1,0 };int dy[4] = { 0,1,0,-1 };void dfs(int x, int y) {	check[x][y] = true;	for (int i = 0; i < 4; i++) {		int nx = y + dx[i];		int ny = x + dy[i];		if (0 <= nx&&nx < m && 0 <= ny&&ny < n&&arr[ny][nx] && !check[ny][nx]) {			dfs(ny, nx);		}	}}int main() {	int t;	cin >> t;	while (t--) {		memset(arr, 0, sizeof(arr));		memset(check, 0, sizeof(check));		cin >> m >> n >> k;		int cnt = 0;		int a, b;		for (int i = 0; i < k; i++) {			cin >> a >> b;			arr[b][a] = 1;		}		for (int i = 0; i < n; i++) {			for (int j = 0; j < m; j++) {				if (arr[i][j] && !check[i][j]) {					dfs(i, j);					cnt++;				}			}		}		cout << cnt<<'\n';	}}